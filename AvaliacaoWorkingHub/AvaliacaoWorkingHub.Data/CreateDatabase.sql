CREATE DATABASE Vendas
GO

USE Vendas
GO

DECLARE @CurrentMigration [nvarchar](max)

IF object_id('[dbo].[__MigrationHistory]') IS NOT NULL
    SELECT @CurrentMigration =
        (SELECT TOP (1) 
        [Project1].[MigrationId] AS [MigrationId]
        FROM ( SELECT 
        [Extent1].[MigrationId] AS [MigrationId]
        FROM [dbo].[__MigrationHistory] AS [Extent1]
        WHERE [Extent1].[ContextKey] = N'AvaliacaoWorkingHub.Data.Migrations.Configuration'
        )  AS [Project1]
        ORDER BY [Project1].[MigrationId] DESC)

IF @CurrentMigration IS NULL
    SET @CurrentMigration = '0'

IF @CurrentMigration < '201701222237110_InitialCreate'
BEGIN
    CREATE TABLE [dbo].[Venda] (
        [Id] [int] NOT NULL IDENTITY,
        [Comprador] [nvarchar](max),
        [Descricao] [nvarchar](max),
        [PrecoUnitario] [decimal](18, 2) NOT NULL,
        [Quantidade] [int] NOT NULL,
        [Endereco] [nvarchar](max),
        [Fornecedor] [nvarchar](max),
        CONSTRAINT [PK_dbo.Venda] PRIMARY KEY ([Id])
    )
    CREATE TABLE [dbo].[__MigrationHistory] (
        [MigrationId] [nvarchar](150) NOT NULL,
        [ContextKey] [nvarchar](300) NOT NULL,
        [Model] [varbinary](max) NOT NULL,
        [ProductVersion] [nvarchar](32) NOT NULL,
        CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
    )
    INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
    VALUES (N'201701222237110_InitialCreate', N'AvaliacaoWorkingHub.Data.Migrations.Configuration',  0x1F8B0800000000000400CD58CD6EE33610BE17E83B083AB540D6CACF651BC8BB48EDB80DBA4ED255363D8FA5B1432C45AA2465D8CFD6431FA9AFD0A17E69C98EED645314BED8D4CC37C38F331F47FEE7AFBFC38FAB947B4B549A4931F4CF06A7BE87229609138BA19F9BF9BBF7FEC70FDF7F175E27E9CA7BACED2EAC1D790A3DF49F8CC92E8340C74F98821EA42C5652CBB919C4320D2091C1F9E9E94FC1D9598004E11396E7859F7361588AC50FFA399222C6CCE4C0A73241AEAB757A1215A8DE2DA4A8338871E85F2D81338841FE21D557CAF2D77C36188301DFBBA275CA27423EF73D10421A3094EDE5178D9151522CA28C16803FAC3324BB39708DD52E2E5BF34337747A6E3714B48E35549C6B23D32301CF2E2A8682AEFB8B78F61B0689C36BE2DAACEDAE0B1E87FE238A84F8EA46BA1C7165ADB6735C9ECCA0F03DF1765B9C345542C5643F27DE28E726573814981B05FCC4BBCF679CC5BFE1FA417E45311439E76EC694333DDB58A0A57B25335466FD19E7D53E6E12DF0B36FD82AE63E3E6F8949BBC11E6E2DCF76E2938CC383605E1101219A9F01714A8C060720FC6A01216030B4A7BD13BB14632CD149D8CAA4352191257BE3785D527140BF334F4E9ABEF4DD80A937AA54AE38B60D486E464548EFB228D51C78AD171BC79A47B85B1240F038A35D1C618B314B8EFD9A7AC9292F7BE17C56089DDC6F2F3517ECF81184E20C17DA7F53CCEB548D026FCE6B44CA41218E3B73FEB3068DBB7DFD4249C0618D5A7DBD97A3CB3EBB8325B7A9CC4B06A735D85DBDC57891BA1D940F4BD368B52610795886CCBB5C9AAD5F1A014F25AF0831D8A1F4E21CB8836E706A856BCA894FFD1BBE878454C4B8C20D65B84B1C9B689445D0F0BEC3CB5ED9CE084296DEC7533037B70A324ED9975CF6007BF75B40D9ABB9AD7B25E9BDBEFA5CBAE8BB03A990E54CBE4843697928015FBC4269FFA5AE8F915B73070505B947424799E8A5D6AFC9CB7A38D2E88B37C3896A37E2E96B37C385647DF5CBCCEA3C3315D357301DDF5C3D15A4D73B1DAD5C3915CD172B1DCF53E5A18740AA95BB441AF6A3B7774B7079E9390AE4913BD91928E648455FBEE9F247BFD5C9AD85B4C2E59627B395A6B8369D956D19F7CC419EDB73598826073D4A61C637C1AE3CE3B63E8FF67240CB44EF82173E17F3E88314BE9DE51EBC89BBF377B8925A8F809D40F29AC7E74E15E345FBD0A6DEB0C95BCFD0C5510FDCA09EA551BEF4F4947C01D3709F52FEB03E69CDD634E290D744A33CB4499E2EB26A0BE4C8581FB5A1C52CDB1450B615F92893CDBFF2D686D7323E6B2E69AF6E466549B748E628A0612A2E64A193687D8D0E318B52E46D647E0B93DFA7486C98DB8CB4D969B2BAD319DF18D779E30783E7E31E66DE61CDE65F697FE165BA034A9BC0DDE899F73C69326EF49BFAE7741D82AA94487B2A2919DE016EB06E9568A03812AFAC698515190643D609A7102D377228225BE24379AD43FE102E2757DDBEC06D97F109BB48763060B05A9AE305A7FFB574F60FFEBF9F02FF17EDA431D120000 , N'6.1.3-40302')
END

